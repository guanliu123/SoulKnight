# Protobuf 与 JSON 性能对比测试报告
测试时间: 2025-04-24 22:24:04
测试迭代次数: 1000

## 1. 序列化性能测试
| 数据大小(条目数) | Protobuf序列化时间(ms) | JSON序列化时间(ms) | Protobuf/JSON比率 |
|-----------------|----------------------|-------------------|-----------------|
| 1 | 0.024 | 0.020 | 1.200 |
| 10 | 0.121 | 0.217 | 0.558 |
| 50 | 0.510 | 0.505 | 1.010 |
| 100 | 0.467 | 0.812 | 0.575 |
| 500 | 2.346 | 4.214 | 0.557 |
| 1000 | 3.988 | 8.419 | 0.474 |

## 2. 反序列化性能测试
| 数据大小(条目数) | Protobuf反序列化时间(ms) | JSON反序列化时间(ms) | Protobuf/JSON比率 |
|-----------------|------------------------|--------------------|-----------------|
| 1 | 0.015 | 0.047 | 0.319 |
| 10 | 0.127 | 0.453 | 0.280 |
| 50 | 0.133 | 0.415 | 0.320 |
| 100 | 0.256 | 0.391 | 0.655 |
| 500 | 1.213 | 2.200 | 0.551 |
| 1000 | 1.987 | 4.248 | 0.468 |

## 3. 数据压缩率测试
| 数据大小(条目数) | Protobuf大小(字节) | JSON大小(字节) | Protobuf/JSON大小比 |
|-----------------|-------------------|---------------|-------------------|
| 1 | 218 | 1297 | 0.168 |
| 10 | 2803 | 15444 | 0.181 |
| 50 | 11375 | 67481 | 0.169 |
| 100 | 22100 | 132923 | 0.166 |
| 500 | 110481 | 663371 | 0.167 |
| 1000 | 221174 | 1330831 | 0.166 |

## 4. 网络传输性能测试
| 数据大小(条目数) | Protobuf传输时间(ms) | JSON传输时间(ms) | Protobuf/JSON比率 |
|-----------------|---------------------|-----------------|-----------------|
| 1 | 0.100 | 0.100 | 1.000 |
| 10 | 0.100 | 0.200 | 0.500 |
| 50 | 0.100 | 0.200 | 0.500 |
| 100 | 0.100 | 0.200 | 0.500 |
| 500 | 0.300 | 0.800 | 0.375 |
| 1000 | 0.300 | 2.400 | 0.125 |

## 5. 测试结论

### 5.1 序列化性能
- Protobuf序列化性能平均比JSON快 1.54 倍
- 随着数据量增加，Protobuf的性能优势更加明显

### 5.2 反序列化性能
- Protobuf反序列化性能平均比JSON快 2.55 倍
- 随着数据量增加，Protobuf的性能优势保持稳定

### 5.3 数据压缩率
- Protobuf数据大小平均比JSON小 6.01 倍
- Protobuf采用二进制格式，而JSON是文本格式，因此在数据压缩方面Protobuf具有明显优势

### 5.4 网络传输性能
- Protobuf网络传输性能平均比JSON快 2.94 倍
- 随着数据量增加，Protobuf的传输性能优势更加明显

### 5.5 总结
- Protobuf在序列化、反序列化、数据压缩和网络传输方面都优于JSON
- 对于需要高性能网络通信的应用，特别是数据量较大时，Protobuf是更好的选择
- JSON的优势在于可读性和跨平台兼容性，适合需要人工查看或编辑的场景
